scrapers:
  - name: Amalgame
    url: https://www.amalgameclub.ch/programme/
    item: div.grid.three-columns > div.card--event > a
    fields:
      - name: "city"
        value: "Yverdon-les-Bains"
      - name: country
        value: Switzerland
      - name: "location"
        value: "Lâ€™Amalgame"
      - name: "sourceUrl"
        value: "https://www.amalgameclub.ch/programme/"
      - name: title
        type: text
        location:
          - selector: div.card-content > h3
      - name: type
        type: text
        location:
          - selector: div.img-wrapper > div.event-type > span.type
            default: concert
        transform:
          - type: regex-replace
            regex: "CONCERT"
            replace: concert
          - type: regex-replace
            regex: "PARTY"
            replace: party
      - name: imageUrl
        type: url
        location:
          - selector: div.img-wrapper > figure > picture > img.ofi-image
            attr: src
      - name: url
        type: url
        location:
          - attr: href
      - name: genresText
        type: text
        location:
          - selector: div.card-content > div.category-wrapper > div.category
            all_nodes: true
            separator: ", "
        can_be_empty: true
      - name: comment
        type: text
        location:
          - selector: div.card-content > div.category-wrapper > div.category
            all_nodes: true
            separator: ", "
        can_be_empty: true
      - name: date
        type: date
        on_subpage: url
        components:
          - covers:
              day: true
              month: true
              year: true
            location:
              selector: span.date
            layout:
              - "Monday 02.01.2006"
          - covers:
              time: true
            location:
              default: "20h00"
              selector: span.time
            layout:
              - "Portes 15h04"
        date_location: CET
        date_language: fr_FR
    fetcher:
      type: static
